<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start Game</title>
    <link rel="stylesheet" type="text/css" href="startgame.css">
</head>
<body>

<div class="bg-image"></div>

<div class="container">
    <div class="table-container">
        <img src="assets/table.png" alt="Table" id="table">
        <div class="user user1">
            <div class="user-icon"></div>
            <div class="user-name">Player 1</div>
            <div class="block-right">
                <input type="text" class="player-input" placeholder="Enter text">
                <div class="send-icon"></div> <!-- Icon to send value -->
            </div> <!-- Right block area for user 1 -->
        </div>
        <div class="user user2">
            <div class="user-icon"></div>
            <div class="user-name">Player 2</div>
            <div class="block-left">
                <input type="text" class="player-input" placeholder="Enter text">
                <div class="send-icon"></div> <!-- Icon to send value -->
            </div> <!-- Left block area for user 2 -->
        </div>
        <div class="user user3">
            <div class="user-icon"></div>
            <div class="user-name">Player 3</div>
            <div class="block-right">
                <input type="text" class="player-input" placeholder="Enter text">
                <div class="send-icon"></div> <!-- Icon to send value -->
            </div> <!-- Right block area for user 3 -->
        </div>
        <div class="user user4">
            <div class="user-icon"></div>
            <div class="user-name">Player 4</div>
            <div class="block-left">
                <input type="text" class="player-input" placeholder="Enter text">
                <div class="send-icon"></div> <!-- Icon to send value -->
            </div> <!-- Left block area for user 4 -->
        </div>

        <!-- Add a container for card elements -->
        <div class="card-block">
            <!-- Card elements will be added here dynamically -->
        </div>
        <!-- Add the end game button -->
        <button id="end-game-btn">End Game</button>
    </div>
</div>


<div class="player-list">
    <h2>Players in Room</h2>
    <ul>
        <li>Player 1</li>
        <li>Player 2</li>
        <li>Player 3</li>
        <li>Player 4</li>
    </ul>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    var displayedCards = []; // Array to keep track of displayed cards

    // Function to select a random card image filename from the array
    function getRandomCard() {
        var suits = ['c', 'd', 'h', 's'];
        var randomSuit = suits[Math.floor(Math.random() * suits.length)];
        var randomNumber = Math.floor(Math.random() * 13) + 1;
        return randomSuit + randomNumber + '.png';
    }

    // Function to create and append a card element to the card block
    function createCardElement() {
        console.log("Creating card element...");
        var cardElement = document.createElement('div');
        cardElement.classList.add('card');
        document.querySelector('.card-block').appendChild(cardElement);
        return cardElement;
    }

    // Function to set a random card image to each card element
    function setRandomCardImages() {
        var cardElements = document.querySelectorAll('.card');
        cardElements.forEach(function(cardElement) {
            var randomCard = getRandomCard();
            console.log("Randomly picked card:", randomCard); // Print randomly picked card
            cardElement.style.backgroundImage = "url('assets/cards/" + randomCard + "')";
            displayedCards.push(randomCard); // Add displayed card to array
        });
    }

    // Create new card elements and display them when the page loads
    for (var i = 0; i < 3; i++) {
        createCardElement();
    }
    setRandomCardImages();

    // Always show the End Game button
    document.getElementById('end-game-btn').style.display = 'block';

    // Event listener for the End Game button
    document.getElementById('end-game-btn').addEventListener('click', function() {
        console.log("End game button clicked.");
        // Clear existing card elements
        document.querySelector('.card-block').innerHTML = '';
        displayedCards = []; // Reset displayed cards array
    });
});
</script>
</body>
</html>
